# Railway 部署配置
# 文件說明: https://docs.railway.app/deploy/railway-toml

[build]
builder = "NIXPACKS"
buildCommand = "yarn install --immutable && yarn prisma:generate && yarn build:server"

[deploy]
startCommand = "yarn start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[[services]]
name = "backend"

[services.healthcheck]
path = "/health"
timeout = 100
interval = 30
